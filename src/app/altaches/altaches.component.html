<mat-sidenav-container>
    <mat-sidenav mode="side" opened>
        <div class="container-flud">
        <br>
        <h6> <i class="fa fa-tasks" aria-hidden="true"></i>Liste des phases</h6>
        <br>
        <ul class="list-group" *ngFor="let phase of allphase">
            <li class="list-group-item  breadcrumb" style="border: none">
                <dl >{{phase.titrePhase}}  <span class="badge badge-pill badge-light">{{phase.taches.length}}</span></dl>
               
            </li>
        </ul>
    </div>
    </mat-sidenav>
    <mat-sidenav-content> 
       <div class="container-flud headline">
            <h5>Taches</h5>
         
            <p><button class="btn btn-success btn-sm btnAjout" type="submit" (click)="ajouterPhase()">Ajouter une phase</button></p>
            <br>
            <br>
        </div>
   
    
 <!--- ------------------------------fin------------------------------------------------ -->
 
 <div id="accordion" >
    <div class="card" *ngFor="let phase of allphase; let i=index;">
        <div class="card-header" id="headingOne">
            <h5 class="mb-0">
                <button class="btn btn-link " 
                    data-toggle="collapse"
                    [attr.data-target]="'#collapse'+i"
                    aria-expanded="true"
                    aria-controls="collapseOne">
                {{ phase.titrePhase }}
                <i aria-hidden="true" class="fa fa-angle-up ">&nbsp;</i>
                </button>
            </h5>
        </div>
        <div [attr.id]="'collapse'+i" class="collapse"
            aria-labelledby="headingOne"
            data-parent="#accordion">
          
            <div class="card-body">
                <ul class="list-group">
                    <li class="list-group-item" *ngFor="let tache of phase.taches">
                       <div>
                        <button class="matbtn" mat-icon-button [matMenuTriggerFor]="menu" >
                            <mat-icon>more_horiz</mat-icon>
                         </button>
                         {{tache.nomTache}} 
                         <button class="btn-sm" (click)="togleDisplay()">edit</button>
                       </div> 
                        
                        <mat-menu #menu="matMenu">
                                <button mat-menu-item  (click)="modifier(tache)"><span>modifier</span></button>
                                <button mat-menu-item class="ajoutPhase" ><span>supprimer</span>
                                </button>
                        </mat-menu>
                        
                        <div [hidden]="display">
                        <app-edit-tache [idProjet]="idProjet" [idTache]="tache.numTache"></app-edit-tache>
                        </div>
                        <button class="btn btn-success btn-sm">Ajouter une tache</button>         
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>`


    </mat-sidenav-content>
</mat-sidenav-container>



 