<app-side-nav></app-side-nav>
<div class="container">

    <div class="headline">
    <h2>Utilisateurs</h2>
    <p><button class="btn btn-success" (click)="goToAddUser()">Nouvel Utilisateur</button></p>
    </div>

    <br>
<br>
<hr>
<div class="container">
   
       
<mat-table [dataSource]="userDataSource" class="mat-elevation-z8">

    <ng-container matColumnDef="icon" >
        <mat-header-cell *matHeaderCellDef>  </mat-header-cell>
        <mat-cell *matCellDef="let element"><mat-icon>account_circle</mat-icon> </mat-cell>
        </ng-container>
    
        
    <!-- Username Column -->
    <ng-container matColumnDef="username" >
    <mat-header-cell *matHeaderCellDef> Nom </mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.nom}}</mat-cell>
    </ng-container>

    

    <!-- Prenom -->
    <ng-container matColumnDef="prenom">
    <mat-header-cell *matHeaderCellDef> Prenom </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.prenom}} </mat-cell>
    </ng-container>

    <!--EMAIL -->
    <ng-container matColumnDef="email">
    <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.email}} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="adresse">
        <mat-header-cell *matHeaderCellDef> Adresse </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.adresse}} </mat-cell>
    </ng-container>
    <!-- Symbol Column -->
    <ng-container matColumnDef="telephone">
        <mat-header-cell *matHeaderCellDef> Telephone </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.telephone}} </mat-cell>
    </ng-container>

        <!-- 
    <ng-container matColumnDef="role">
        <mat-header-cell *matHeaderCellDef> Role </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.role.role}} </mat-cell>
    </ng-container>
   Symbol Column 
    <ng-container matColumnDef="profession">
        <mat-header-cell *matHeaderCellDef> Profession </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element}} </mat-cell>
    </ng-container>
-->
    <ng-container matColumnDef="Action">
        <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>
        <mat-cell *matCellDef="let element"> 
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                <mat-icon>more_horiz</mat-icon>
              </button>

              <mat-menu #menu="matMenu">
                    <!-- Gantt Utilisateur -->
                <button  mat-menu-item (click)="goToUserDetails(element.idUser)">
                    <span>Details</span>
                </button> 

                <button mat-menu-item color="primary" (click)="goToUpdateUser(element)"> 
                    Modifier 
                </button>
               <button  mat-menu-item (click)="deleteUser(element.idUser)">
                    <span>Supprimer</span>
                </button> 
                <!-- Gantt Utilisateur -->
                <button  mat-menu-item (click)="goToGanttUser(element.idUser)">
                    <span>Planning Tache</span>
                </button> 

              </mat-menu>

          
         </mat-cell>
    </ng-container>
        <!--Footer de la table des depenses-->
        <ng-container matColumnDef="recharge">
            <mat-footer-cell *matFooterCellDef colspan="6">Recharge....</mat-footer-cell>
        </ng-container>
        <ng-container matColumnDef="noData">
            <mat-footer-cell *matFooterCellDef colspan="6">Pas de Donn√©es</mat-footer-cell>
        </ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    <mat-footer-row *matFooterRowDef="['recharge']" [ngClass]="{'hide':userDataSource!=null}"></mat-footer-row>
    <mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(userDataSource!=null && userDataSource.data.length==0)}"></mat-footer-row>
</mat-table>
    <mat-paginator [pageSizeOptions]="[5,15,25,35]" [pageSize]="5"></mat-paginator>

</div>